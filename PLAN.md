# IndMon ट्रेडिंग डैशबोर्ड - विकास योजना और प्रगति

यह दस्तावेज़ IndMon ट्रेडिंग डैशबोर्ड के विकास में अब तक किए गए कार्यों और भविष्य की योजनाओं का सारांश प्रस्तुत करता है।

## पूर्ण किए गए कार्य (Milestones Achieved)

### 1. **बग समाधान (Bug Fixes)**
- **कैंडलस्टिक चार्ट `NaN` त्रुटि:** `src/components/trading-terminal.tsx` में एक महत्वपूर्ण त्रुटि को ठीक किया गया जो तब होती थी जब कैंडल की `high` और `low` कीमत बराबर हो जाती थी, जिससे शून्य से विभाजन (division-by-zero) के कारण ऐप क्रैश हो रहा था।
- **हॉरिजॉन्टल स्क्रॉल:** ट्रेडिंग टर्मिनल चार्ट में हॉरिजॉन्टल स्क्रॉल की समस्या को ठीक किया गया ताकि जब कैंडल्स की संख्या स्क्रीन की चौड़ाई से अधिक हो, तो उपयोगकर्ता आसानी से स्क्रॉल कर सकें।

### 2. **यूआई/यूएक्स सुधार (UI/UX Enhancements)**
- **इमरजेंसी स्टॉप बटन:** "Global Controls" कार्ड में "Emergency Stop" बटन के लेआउट और आकार की समस्याओं को ठीक किया गया। इसे टेक्स्ट-आधारित बटन से एक कॉम्पैक्ट, आइकॉन-ओनली बटन (टूलटिप के साथ) में बदला गया ताकि यह सभी स्क्रीन आकारों पर ओवरलैप न हो और यूआई सुसंगत दिखे।

### 3. **डायनामिक ट्रेडिंग सिमुलेटर (Dynamic Trading Simulator)**
- **स्थिर डेटा हटाया गया:** `src/store/use-store.ts` से पोज़िशन्स, ऑर्डर्स और सिग्नल्स के लिए सभी हार्डकोडेड/स्थिर डेटा को हटा दिया गया।
- **यथार्थवादी सिमुलेशन:** `src/components/data-simulator.tsx` में एक लॉजिक बनाया गया जो अब Nifty 50 चार्ट की हर नई कैंडल के आधार पर स्वचालित रूप से ट्रेडिंग निर्णय लेता है।
- **एकीकृत डैशबोर्ड:** अब पोज़िशन्स, ऑर्डर्स और सिग्नल फीड चार्ट के साथ सीधे जुड़े हुए हैं, जिससे डैशबोर्ड एक जीवंत और एकीकृत अनुभव प्रदान करता है।

### 4. **वर्चुअल ट्रेडिंग खाता (Virtual Trading Account)**
- **प्रारंभिक पूंजी:** ₹5,00,000 की प्रारंभिक वर्चुअल पूंजी के साथ एक ट्रेडिंग खाता बनाया गया।
- **सटीक गणना:** सभी वित्तीय गणनाएँ—जैसे `Account Balance`, `P&L`, और `Max Drawdown`—अब इस वर्चुअल इक्विटी के आधार पर की जाती हैं।
- **प्रदर्शन चार्ट:** इक्विटी कर्व चार्ट (`PerformanceChart`) अब वास्तविक इक्विटी परिवर्तनों को दर्शाता है, जिससे प्रदर्शन का सटीक दृश्य मिलता है।

### 5. **ट्रेडिंग नियंत्रण (Trading Controls)**
- **टॉगल स्विच:** "Trading Status" के बगल में एक इंटरैक्टिव स्विच जोड़ा गया है, जिससे उपयोगकर्ता मैन्युअल रूप से ट्रेडिंग को रोक और फिर से शुरू कर सकते हैं।
- **बेहतर इमरजेंसी स्टॉप:** "Emergency Stop" बटन की कार्यक्षमता को परिष्कृत किया गया है। यह अब सभी पोज़िशन्स को बंद कर देता है और ट्रेडिंग को रोक देता है, जिसके बाद उपयोगकर्ता टॉगल स्विच का उपयोग करके फिर से ट्रेडिंग शुरू कर सकते हैं।

## भविष्य की संभावित योजनाएं (Potential Future Roadmap)

### **ब्रोकर इंटीग्रेशन (DeepSeek, Grok 4, और Perplexity AI के अनुसार)**
- **API:** Angel One SmartAPI के साथ एकीकरण ताकि उपयोगकर्ता अपने लाइव खाते को जोड़ सकें।
- **प्रमाणीकरण (Authentication):** प्रमाणीकरण के लिए दो मुख्य प्रवाह प्रतीत होते हैं। DeepSeek के अनुसार रिफ्रेश टोकन नहीं है, जबकि Grok और Perplexity के अनुसार है, जिससे दैनिक लॉगिन को स्वचालित किया जा सकता है।
    - **OAuth-like Flow:** उपयोगकर्ता को Angel One लॉगिन पेज पर रीडायरेक्ट करना होगा। सफल लॉगिन के बाद, Access Token मिलता है।
    - **Password + TOTP Flow:** यह सर्वर-साइड के लिए अधिक उपयुक्त है, जहाँ उपयोगकर्ता के क्रेडेंशियल्स और TOTP का उपयोग करके सीधे टोकन उत्पन्न किया जा सकता है।
- **सेशन मैनेजमेंट:** उपयोगकर्ता के `access_token`, `refresh_token` और उनकी समाप्ति (expiry) को प्रबंधित करने के लिए एक मजबूत सर्वर-साइड सत्र प्रणाली (जैसे Redis या डेटाबेस) की आवश्यकता होगी।
- **लाइव डेटा:** ऐतिहासिक डेटा के लिए REST API और लाइव मूल्य अपडेट (LTP) के लिए WebSocket API का उपयोग किया जाएगा।
- **SDK:** विकास को गति देने के लिए आधिकारिक `smartapi-javascript` Node.js लाइब्रेरी का उपयोग किया जा सकता है।
- **आवश्यक एंडपॉइंट्स:**
    - `getRMS`: फंड और मार्जिन प्राप्त करने के लिए।
    - `getPosition`: खुली हुई पोज़िशन्स प्राप्त करने के लिए।
    - `getOrderBook`: ऑर्डर की स्थिति प्राप्त करने के लिए।
    - `getCandleData`: चार्ट के लिए ऐतिहासिक डेटा प्राप्त करने के लिए।
    - `placeOrder`, `modifyOrder`, `cancelOrder`: ऑर्डर प्रबंधित करने के लिए।
    - **Margin Calculator API:** ट्रेड करने से पहले आवश्यक मार्जिन की जांच करने के लिए।

### **IndMon मशीन - कार्यप्रणाली और भविष्य का दृष्टिकोण**
- **वर्तमान कार्यप्रणाली (सिम्युलेटर):** वर्तमान में, "मशीन" `data-simulator.tsx` में रहती है। यह नकली बाज़ार डेटा उत्पन्न करती है और सरल, यादृच्छिक नियमों के आधार पर ट्रेड करती है ताकि डैशबोर्ड की कार्यक्षमता का प्रदर्शन किया जा सके।
- **भविष्य का दृष्टिकोण (लाइव ट्रेडिंग एजेंट):**
    - **आर्किटेक्चर:** एक मजबूत और लो-लेटेंसी आर्किटेक्चर को अपनाया जाएगा। इसमें **बैकग्राउंड वर्कर्स** (WebSocket से लाइव डेटा प्रोसेस करने और रणनीति चलाने के लिए), **API रूट्स** (ऑर्डर देने और ब्रोकर से सिंक करने के लिए), और **सर्वर कंपोनेंट्स** (UI दिखाने के लिए) का स्पष्ट विभाजन होगा।
    - **डेटा प्रवाह:** WebSocket से आने वाले लाइव मार्केट डेटा को एक मैसेज क्यू (जैसे Redis) का उपयोग करके प्रोसेस किया जाएगा और फिर Socket.io के माध्यम से UI को अपडेट किया जाएगा ताकि न्यूनतम लेटेंसी सुनिश्चित हो सके।
    - **बुद्धिमान रणनीतियाँ:** यह RSI, MACD, या बोलिंगर बैंड जैसे वास्तविक तकनीकी संकेतकों के आधार पर ट्रेड करेगा। इसमें **सांख्यिकीय मध्यस्थता (Statistical Arbitrage)** और **अस्थिरता विश्लेषण (Volatility Analysis)** जैसी उन्नत रणनीतियों को भी शामिल किया जा सकता है।
    - **AI-सहायता प्राप्त सिग्नल:** Genkit का उपयोग करके एक AI एजेंट बनाया जाएगा जो बाज़ार के रुझानों (ट्रेंडिंग बनाम रेंज-बाउंड), समाचार भावना (news sentiment) का विश्लेषण करने और वर्तमान अस्थिरता के आधार पर रणनीति पैरामीटर को गतिशील रूप से समायोजित करने जैसे उन्नत ट्रेडिंग सिग्नल उत्पन्न कर सकता है।
    - **गतिशील जोखिम प्रबंधन:** मशीन प्रत्येक ट्रेड के लिए **ATR (Average True Range)** के आधार पर स्वचालित रूप से स्टॉप-लॉस निर्धारित करेगी। यह **केली मानदंड (Kelly Criterion)** जैसे मॉडल का उपयोग करके पोर्टफोलियो जोखिम और रणनीति के आत्मविश्वास के आधार पर स्थिति के आकार (position size) को भी गतिशील रूप से समायोजित करेगी।
    - **वास्तविक निष्पादन:** ट्रेडिंग निर्णय लेने पर यह Angel One API के माध्यम से वास्तविक ऑर्डर भेजेगा और स्लिपेज और एपीआई त्रुटियों को संभालने के लिए मजबूत तंत्र होगा।

### **उपयोगकर्ता अनुभव और उन्नत सुविधाएँ**
- **उपयोगकर्ता प्रमाणीकरण (Authentication):** Firebase Auth का उपयोग करके एक पूर्ण लॉगिन/साइनअप प्रणाली बनाना।
- **डेटाबेस स्टोरेज:** Firebase Firestore का उपयोग करके उपयोगकर्ता की सेटिंग्स, रणनीतियों और ट्रेड इतिहास को सहेजना।
- **उन्नत ट्रेडिंग लॉजिक:** सिम्युलेटर और लाइव ट्रेडिंग दोनों में अधिक परिष्कृत और अनुकूलन योग्य ट्रेडिंग रणनीतियों को लागू करना।
- **बैकटेस्टिंग:** उपयोगकर्ताओं को अपनी रणनीतियों का ऐतिहासिक डेटा पर परीक्षण करने और उनके प्रदर्शन (जैसे शार्प अनुपात, अधिकतम ड्रॉडाउन) का विश्लेषण करने की अनुमति देना।